(()=>{"use strict";var t={d:(e,a)=>{for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{H6:()=>d,p4:()=>l,Vv:()=>v,uo:()=>u,yG:()=>r,_X:()=>f});var e,a=document.querySelector(".module"),n=function(){var t='\n    <div class="info result">\n      <img class="info__img" src="./static/'.concat("win"===d.status?"celebration":"dead",'.svg" alt="" />\n      <p class="info__title result__title">').concat("win"===d.status?"Вы выиграли!":"Вы проиграли!",'</p>\n      <p class="info__time-title">Затраченное время:</p>\n      <div class="timer">\n        <div class="timer__count result__count">').concat(d.gameTime,'</div>\n      </div>\n      <div>\n        <button type="submit" class="result__go-button button" id="button-go">\n          Играть снова\n        </button>\n      </div>\n    </div>');a.innerHTML=t,document.querySelector(".result__go-button").addEventListener("click",(function(){a.style.display="none",f()}))},i=0,c=0,s=function(t){d.status="level",t.innerHTML='\n      <div class="info">\n        <p class="info__title">\n          Выбери<br />\n          сложность\n        </p>\n        <form class="info__form">\n          <div class="info__level">\n            <input type="radio" name="radio" value="easy" id="dif-easy" />\n            <label for="dif-easy" class="info__level-choice">1</label>\n            <input type="radio" name="radio" value="medium" id="dif-med" />\n            <label for="dif-med" class="info__level-choice">2</label>\n            <input type="radio" name="radio" value="hard" id="dif-hard" />\n            <label for="dif-hard" class="info__level-choice">3</label>\n          </div>\n          <div>\n            <button type="submit" class="info__go-button button" id="button-go">Старт</button>\n          </div>\n        </form>\n      </div>';for(var s=document.getElementById("button-go"),o=function(t){t.addEventListener("click",(function(o){o.stopPropagation(),d.difficultyLevel=t.value,s.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),function(){"easy"===d.difficultyLevel?r(d.fieldSize[0]):"medium"===d.difficultyLevel?r(d.fieldSize[1]):r(d.fieldSize[2]);var t='\n      <header class="header">\n        <div class="timer">\n          <div class="timer__text">\n            <div class="timer__min">min</div>\n            <div class="timer__sec">sek</div>\n          </div>\n          <div class="timer__count">'.concat(d.gameTime,'</div>\n        </div>\n        <button class="button" id="button-go">Начать заново</button>\n      </header>'),s=d.cardDeck.map((function(t,e){return'\n          <div class="card__back" data-index="'.concat(e,'">\n            <img src="./static/card-back.svg" alt="карта" />\n          </div>\n          <div class="card" data-index="').concat(e,'">\n            <div class="card__front">\n              <div class="card__top">\n                <div class="card__title">').concat(v(t,""),'</div>\n                <img class="card__suites_small" src="./static/').concat(u(t,""),'.svg" alt="" />\n              </div>\n              <div class="card__suites">\n                <img src="./static/').concat(u(t,""),'.svg" alt="" />\n              </div>\n              <div class="card__top card__top_flipped">\n                <div class="card__title">').concat(v(t,""),'</div>\n                <img class="card__suites_small" src="./static/').concat(u(t,""),'.svg" alt="" />\n              </div>\n              <div></div>\n            </div>\n          </div>')})).join(""),o="\n      ".concat(t,'\n      <section class="game-field">\n      ').concat(s,"\n      </section>");l.innerHTML=o;var m=document.querySelectorAll(".card"),_=document.querySelectorAll(".card__back");e=setTimeout((function(){for(var t=0,e=m;t<e.length;t++)e[t].style.display="none";for(var a=0,n=_;a<n.length;a++)n[a].style.display="flex";d.status="start";var i=setInterval((function(){if("win"!==d.status&&"lost"!==d.status&&"level"!==d.status){c++;var t=Math.floor(c/60).toString().padStart(2,"0"),e=(c%60).toString().padStart(2,"0"),a=document.querySelector(".timer__count");d.gameTime="".concat(t,".").concat(e),a.textContent=d.gameTime}else clearInterval(i)}),1e3);c=0}),5e3);for(var p=function(t){t.addEventListener("click",(function(e){e.stopPropagation();var c=t.dataset.index;t.style.display="none";for(var s=0,l=m;s<l.length;s++){var r=l[s],o=r.dataset.index,u=d.cardDeck[o];o===c&&(r.style.display="flex",r.setAttribute("data-card",u),d.selectedCards.push(r),2===d.selectedCards.length&&(d.selectedCards[0].dataset.card===d.selectedCards[1].dataset.card?((i+=2)===d.cardDeck.length&&(d.status="win",a.style.display="flex",n(),i=0),d.selectedCards=[]):(d.status="lost",a.style.display="flex",n(),i=0)))}}))},g=0,y=_;g<y.length;g++)p(y[g]);document.getElementById("button-go").addEventListener("click",(function(){f()}))}()}))}))},m=0,_=document.querySelectorAll("input");m<_.length;m++)o(_[m])},d={difficultyLevel:"",gameTime:"00.00",cardSuits:["diamonds","hearts","clubs","spades"],cardRanks:["6","7","8","9","10","J","Q","K","A"],fieldSize:[6,12,18],cardDeck:[],selectedCards:[],status:""},l=document.getElementById("app");function r(t){for(var e=0;e<t;e+=2){var a=void 0;do{a=Math.floor(37*Math.random())}while(d.cardDeck.includes(a));d.cardDeck[e]=a,d.cardDeck[e+1]=a,o(d.cardDeck)}}function o(t){for(var e,a=t.length-1;a>0;a--){var n=Math.floor(Math.random()*(a+1));e=[t[n],t[a]],t[a]=e[0],t[n]=e[1]}return t}s(l);var u=function(t,e){return t>0&&t<=9?d.cardSuits[3]:t>9&&t<=18?d.cardSuits[1]:t>18&&t<=27?d.cardSuits[0]:d.cardSuits[2]},v=function(t,e){return 1===t||10===t||19===t||28===t?d.cardRanks[8]:2===t||11===t||20===t||29===t?d.cardRanks[7]:3===t||12===t||21===t||30===t?d.cardRanks[6]:4===t||13===t||22===t||31===t?d.cardRanks[5]:5===t||14===t||23===t||32===t?d.cardRanks[4]:6===t||15===t||24===t||33===t?d.cardRanks[3]:7===t||16===t||25===t||34===t?d.cardRanks[2]:8===t||17===t||26===t||35===t?d.cardRanks[1]:d.cardRanks[0]};function f(){d.cardDeck=[],d.selectedCards=[],d.difficultyLevel="",d.gameTime="00.00",d.status="level",clearTimeout(e),s(l)}})();